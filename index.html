<!DOCTYPE html>
<html lang="es">
    <head>
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
           <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
           <meta name="viewport" content="width=device-width, initial-scale=1.0" />
           <meta name="keywords" content="Art Sign Up Form Responsive Widget, 
                 Audio and Video players, Login Form Web Template, Flat Pricing 
                 Tables, Flat Drop-Downs, Sign-Up Web Templates, 
       Flat Web Templates, Login Sign-up Responsive Web Template, Smartphone 
           Compatible Web Template, Free Web Designs for Nokia, Samsung, 
           LG, Sony Ericsson, Motorola Web Design"
       />
       <meta http-equiv="Expires" content="0">
     <meta http-equiv="Last-Modified" content="0">
     <meta http-equiv="Cache-Control" content="no-cache, mustrevalidate">
     <meta http-equiv="Pragma" content="no-cache">
       <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" 
            integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
            
        <link rel="stylesheet" href="css/estilos.css">
        <title>CIFRADO AES</title>
    </head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js" ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js" ></script>
    <script src="js/FileSaver.js" ></script>

    <div align="center">
        <div class="menu">

        <div class="sub-menu">

        <h2>CIFRADO AES</h2>
        <input class="btn btn-link" type="file" id="file-input" />
        <br>
        <h6>Texto del archivo:</h6>
        <textarea id="Sarchivo" readonly="readonly" rows="2" cols="45">
        </textarea>
        <h6 align="center">Clave</h6>
        <input type="text" id="txt1"  class="form-control">
        <h6 align="center">Cifrado</h6>
        <textarea id="txt2" rows="2" cols="45" readonly="readonly" ></textarea>
        <textarea id="txt3" rows="2" cols="45"readonly="readonly">
        </textarea><hr>
        <h6 align="center">Descifrado</h6>
        <textarea id="txt4" rows="2" cols="45"readonly="readonly"> </textarea>
        <input class="btn btn-info" type="button" value="Cifrar" onclick="validar()">
        <input class="btn btn-info" type="button" value="Descifrar" onclick="funy()">       
        <button id="descargar"class="btn btn-dark" >Descargar</button>

        </div>
        </div>
    </div>

    <script>
        $("#descargar").click(function() { 
        var cth = document.getElementById("txt2").value;
        var blob = new Blob([cth], {type: "text/plain;charset=utf-8"});
        if(cth ==""){
            alert("Necesito saber que he de cifrar");
        }else{
            saveAs(blob, "Cif.txt");
        }
        });
    </script>

    <script src="js/cifradoAES.js" ></script>
    
</body>
</html>